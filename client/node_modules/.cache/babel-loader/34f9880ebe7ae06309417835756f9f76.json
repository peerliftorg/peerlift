{"ast":null,"code":"var _jsxFileName = \"/Users/samgorman/src/pl-connect/client/src/containers/Opps.js\";\nimport React, { Component } from 'react';\nimport '../components/OppBox.css';\nimport '../components/filters.css';\nimport Filters from \"../components/filters\";\nimport OppBox from '../components/OppBox';\nimport AddOpp from '../components/addOpp.js'; //need to import contacts to here\n// //This is a constructor for a component \n\nclass Opps extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      contacts: [],\n      contacts_const: [],\n      selectedTags: [],\n      on: false\n    }; //var oldWord = \"\";\n    // This binding is necessary to make `this` work in the callback-- added from tut\n\n    this.handleClickTag = this.handleClickTag.bind(this);\n  }\n\n  componentDidMount() {\n    fetch('http://localhost:9000/users').then(res => res.json()).then(data => {\n      //data is an array, let's sort it by closest to current date\n      data.sort(function (a, b) {\n        var currDate = new Date(); //create date variables for each one\n\n        var c = new Date(a.FilterDate);\n        var d = new Date(b.FilterDate);\n        var e = Math.abs(currDate - c);\n        var f = Math.abs(currDate - d);\n        return e - f;\n      });\n      this.setState({\n        contacts: data\n      }); //give constant a value\n\n      this.setState({\n        contacts_const: data\n      });\n    }).catch(console.log);\n  }\n\n  handleClickTag(word) {\n    // this.setState({contacts:this.state.contacts_const})\n    // this.setState({on:!this.state.on})\n    //if selected tag already in the selected array\n    // var selectedArray = this.state.selectedTags;\n    // if (this.state.selectedTags.indexOf(word) != -1 ) { \n    //     //remove this selected tag\n    //     selectedArray = selectedArray.filter(e => e !== word);\n    //     //reset the state so that it does not contain word\n    //     this.setState({selectedTags:selectedArray})\n    //     //if selectedTags is empty, rerender\n    //     if (this.state.selectedTags === undefined || this.state.selectedTags.length == 0) {\n    //         this.setState({contacts: this.state.contacts_const})\n    //     }\n    //     //if selected tag \n    //     else {\n    //         //filter\n    //         const array = this.state.contacts_const;\n    //         var arrayTwo = [];\n    //         this.state.selectedTags.map((tag) =>\n    //             arrayTwo = array.filter(item => {\n    //                return item.Tags.includes(tag);\n    //            })    \n    //         )\n    //          this.setState({contacts:arrayTwo})\n    //     }\n    // }\n    //if selected tag not in array, then add it to the array\n    // else  {\n    this.setState({\n      selectedTags: this.state.selectedTags.concat(word)\n    });\n    const array = this.state.contacts_const;\n    var arrayTwo = ['hey', 'ho', 'STEM']; //map over selected tag\n\n    var test = this.state.selectedTags; //test.map((tag) =>\n    //console.log(tag)\n\n    arrayTwo = array.filter(item => {\n      return item.Tags.includes(word);\n    }); // )\n\n    console.log(arrayTwo); //this.setState({contacts:arrayTwo})\n    //  }             \n  }\n\n  render() {\n    //console.log(\"test\"+this.state.contacts)\n    //we want to reset value to normal\n    var word; //console.log(this.state.selectedTags)\n\n    return React.createElement(\"div\", {\n      className: \"filter-opp-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"full-filter-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"filter-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Filter \"), React.createElement(\"div\", {\n      className: \"grade-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"Grade \"), React.createElement(\"button\", {\n      className: this.state.on ? \"button-clicked\" : \"filter-button\",\n      onClick: () => this.handleClickYear(word = \"freshman\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \" 9\"), React.createElement(\"button\", {\n      className: \"filter-button\",\n      onClick: () => this.handleClickTag(word = \"sophomore\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \" 10 \"), React.createElement(\"button\", {\n      className: \"filter-button\",\n      onClick: () => this.handleClickTag(word = \"junior\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"11 \"), React.createElement(\"button\", {\n      className: \"filter-button\",\n      onClick: () => this.handleClickTag(word = \"senior\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"12 \")), React.createElement(\"div\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \" Tags\"), React.createElement(\"div\", {\n      className: \"tags\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"filter-button\",\n      onClick: () => this.handleClickTag(word = \"STEM\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \" STEM\"), React.createElement(\"button\", {\n      className: \"filter-button\",\n      onClick: () => this.handleClickTag(word = \"low-income\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \" Low-income \"), React.createElement(\"button\", {\n      className: \"filter-button\",\n      onClick: () => this.handleClickTag(word = \"diversity\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"Diversity \"), React.createElement(\"button\", {\n      className: \"filter-button\",\n      onClick: () => this.handleClickTag(word = \"service\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"Service \")))), React.createElement(\"div\", {\n      className: \"add-box-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(AddOpp, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"opp-box-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(OppBox, {\n      contacts: this.state.contacts,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, \" \"))));\n  }\n\n}\n\nexport default Opps; // const SmartButton = ( {contacts} ) => {\n//     return(\n//         <button className = \"filter-button\" >Click Me </button>\n//     )\n//   }\n\nclass SmartButton extends Component {\n  //init a state as false\n  constructor(props) {\n    super(props);\n    this.state = {\n      on: false\n    }; // This binding is necessary to make `this` work in the callback-- added from tut\n\n    this.handleClickTag = this.handleClickTag.bind(this);\n  }\n\n  render() {\n    return React.createElement(\"button\", {\n      className: \"filter-button\",\n      onClick: () => this.props,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, \" \");\n  }\n\n}","map":{"version":3,"sources":["/Users/samgorman/src/pl-connect/client/src/containers/Opps.js"],"names":["React","Component","Filters","OppBox","AddOpp","Opps","constructor","props","state","contacts","contacts_const","selectedTags","on","handleClickTag","bind","componentDidMount","fetch","then","res","json","data","sort","a","b","currDate","Date","c","FilterDate","d","e","Math","abs","f","setState","catch","console","log","word","concat","array","arrayTwo","test","filter","item","Tags","includes","render","handleClickYear","SmartButton"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'; \nimport '../components/OppBox.css';\nimport '../components/filters.css';\nimport Filters from \"../components/filters\";\nimport OppBox from '../components/OppBox';\nimport AddOpp from '../components/addOpp.js';\n\n//need to import contacts to here\n// //This is a constructor for a component \nclass Opps extends Component{\n\n  constructor(props){\n    super(props);\n    this.state = {\n      contacts: [],\n      contacts_const: [],\n      selectedTags: [],\n      on: false\n      \n    };\n\n   \n    //var oldWord = \"\";\n     // This binding is necessary to make `this` work in the callback-- added from tut\n     this.handleClickTag = this.handleClickTag.bind(this);\n  }\n\n  componentDidMount() {\n    fetch('http://localhost:9000/users')\n      .then(res => res.json())\n      .then((data) => {\n        //data is an array, let's sort it by closest to current date\n        data.sort(function(a,b){\n          var currDate = new Date();\n          //create date variables for each one\n          var c = new Date(a.FilterDate);\n          var d = new Date(b.FilterDate);\n\n          var e = Math.abs(currDate-c);\n          var f = Math.abs(currDate-d);\n          return e-f;\n        })\n        this.setState({ contacts: data })\n        //give constant a value\n        this.setState({ contacts_const: data })\n      })\n      .catch(console.log)\n  }\n\n        handleClickTag(word) {\n            // this.setState({contacts:this.state.contacts_const})\n            // this.setState({on:!this.state.on})\n\n            //if selected tag already in the selected array\n            // var selectedArray = this.state.selectedTags;\n            // if (this.state.selectedTags.indexOf(word) != -1 ) { \n            //     //remove this selected tag\n            //     selectedArray = selectedArray.filter(e => e !== word);\n            //     //reset the state so that it does not contain word\n            //     this.setState({selectedTags:selectedArray})\n            //     //if selectedTags is empty, rerender\n            //     if (this.state.selectedTags === undefined || this.state.selectedTags.length == 0) {\n            //         this.setState({contacts: this.state.contacts_const})\n            //     }\n            //     //if selected tag \n            //     else {\n            //         //filter\n            //         const array = this.state.contacts_const;\n            //         var arrayTwo = [];\n            //         this.state.selectedTags.map((tag) =>\n            //             arrayTwo = array.filter(item => {\n            //                return item.Tags.includes(tag);\n            //            })    \n            //         )\n            //          this.setState({contacts:arrayTwo})\n            //     }\n            // }\n\n            //if selected tag not in array, then add it to the array\n            // else  {\n                this.setState({\n                    selectedTags: this.state.selectedTags.concat(word)\n                  })\n                  const array = this.state.contacts_const;\n                  var arrayTwo = ['hey','ho','STEM'];\n                  //map over selected tag\n                  var test = this.state.selectedTags;\n                  //test.map((tag) =>\n                        //console.log(tag)\n                      arrayTwo = array.filter(item => {\n                         return item.Tags.includes(word);\n                     })    \n                 // )\n                  console.log(arrayTwo);\n                   //this.setState({contacts:arrayTwo})\n            //  }             \n\n    }\n\n  render() {\n    //console.log(\"test\"+this.state.contacts)\n    //we want to reset value to normal\n    var word;\n    //console.log(this.state.selectedTags)\n    return(\n        <div className = \"filter-opp-wrapper\">\n          <div className = \"full-filter-wrapper\"> \n          <div className = \"filter-wrapper\">\n            <div className = \"header\">Filter </div>\n\n            <div className = \"grade-wrapper\">\n            <div className = \"title\">Grade </div>\n            \n            <button className={this.state.on ? \"button-clicked\": \"filter-button\"} onClick={() => this.handleClickYear(word = \"freshman\")}> 9</button>\n            <button className = \"filter-button\" onClick={() => this.handleClickTag(word = \"sophomore\")}> 10 </button>\n            <button className = \"filter-button\" onClick={() => this.handleClickTag(word = \"junior\")}>11 </button>\n            <button className = \"filter-button\" onClick={() => this.handleClickTag(word = \"senior\")}>12 </button>\n            </div>\n\n            <div className = \"title\"> Tags</div>\n            <div className = \"tags\"> \n            <button className = \"filter-button\" onClick={() => this.handleClickTag(word = \"STEM\")}> STEM</button>\n            <button className = \"filter-button\" onClick={() => this.handleClickTag(word = \"low-income\")}> Low-income </button>\n            <button className = \"filter-button\" onClick={() => this.handleClickTag(word = \"diversity\")}>Diversity </button>\n            <button className = \"filter-button\" onClick={() => this.handleClickTag(word = \"service\")}>Service </button>\n            </div>\n            </div>\n          \n\n          </div>\n\n          <div className = \"add-box-wrapper\"> \n\n          <AddOpp></AddOpp>\n          <div className = \"opp-box-wrapper\"> \n        \n            <OppBox contacts = {this.state.contacts}> </OppBox> \n        </div>\n        </div>\n        </div>\n    );\n}\n}\n\nexport default Opps;\n\n\n// const SmartButton = ( {contacts} ) => {\n    \n//     return(\n//         <button className = \"filter-button\" >Click Me </button>\n\n//     )\n//   }\n\nclass SmartButton extends Component{\n    //init a state as false\n    constructor(props){\n        super(props);\n        this.state = {\n          on: false\n        };\n         // This binding is necessary to make `this` work in the callback-- added from tut\n         this.handleClickTag = this.handleClickTag.bind(this);\n      }\n\n      render() {\n          return(\n            <button className = \"filter-button\" onClick={() => this.props}> </button>\n\n          );\n      }\n\n}\n  "]},"metadata":{},"sourceType":"module"}